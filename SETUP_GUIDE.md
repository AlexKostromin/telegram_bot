# üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Telegram –±–æ—Ç–∞ USN

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –±–æ—Ç –∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –ø–æ–¥ –≤–∞—à–∏ –Ω—É–∂–¥—ã.

---

## ü§ñ –í–∞—à —Ç–µ–∫—É—â–∏–π –±–æ—Ç

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| **–°—Ç–∞—Ç—É—Å** | üü¢ –ó–∞–ø—É—â–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ |
| **Token** | `8388323020:AAH-kIjcQYDQsrYg8ZvHcrMsZr730c-PD6s` |
| **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã** | –í–∞–º –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å (—Å–º. —Ä–∞–∑–¥–µ–ª "–ù–∞–π–¥–∏—Ç–µ –≤–∞—à Telegram ID") |
| **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** | SQLite (bot_database.db) |
| **Email** | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å–º. –Ω–∏–∂–µ) |
| **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** | http://localhost:8000/admin |

**–ß—Ç–æ —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è
- ‚úÖ –í—ã–±–æ—Ä —Ä–æ–ª–µ–π (Player, Viewer, Adviser, Voter)
- ‚úÖ –í—ã–±–æ—Ä –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤ –¥–ª—è —Å—É–¥–µ–π
- ‚úÖ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –≤ —Å—É–¥–µ–π—Å–∫–∏–µ –∫–æ–ª–ª–µ–≥–∏–∏
- ‚úÖ Email –∏ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ Django –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –æ–¥–æ–±—Ä–µ–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º–∏
- ‚úÖ –†–∞—Å—Å—ã–ª–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
2. [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
3. [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
4. [–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞](#–∑–∞–ø—É—Å–∫-–±–æ—Ç–∞)
5. [–ó–∞–ø—É—Å–∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏](#–∑–∞–ø—É—Å–∫-–∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏)
6. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥ —Å–µ–±—è](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–ø–æ–¥-—Å–µ–±—è)
7. [–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#—Ä–µ—à–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)

---

## üì¶ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker –∏ Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) **–ò–õ–ò**
- Python 3.10+
- PostgreSQL (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –≤–º–µ—Å—Ç–æ SQLite)

---

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: Docker (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç
git clone <–≤–∞—à-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π> telegram_bot
cd telegram_bot

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cp .env.example .env

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env (–¥–æ–±–∞–≤—å—Ç–µ BOT_TOKEN)
nano .env

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
make up

# –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏
make logs
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –õ–æ–∫–∞–ª—å–Ω–æ (Python)

```bash
cd telegram_bot

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
cp .env.example .env

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env
nano .env

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
python main.py
```

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### 1. –°–æ–∑–¥–∞–π—Ç–µ Telegram –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ —á–∞—Ç —Å [@BotFather](https://t.me/botfather) –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **BOT_TOKEN** (–≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ `123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11`)

### 2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` —Ñ–∞–π–ª

```bash
# ===== –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ü–ê–†–ê–ú–ï–¢–†–´ =====

# –¢–æ–∫–µ–Ω –±–æ—Ç–∞ (–≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é)
BOT_TOKEN=8388323020:AAH-kIjcQYDQsrYg8ZvHcrMsZr730c-PD6s

# –í–∞—à Telegram ID (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä) –∏ –¥—Ä—É–≥–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã
ADMIN_IDS=<–≤–∞—à_telegram_id>,<–¥—Ä—É–≥–∏–µ_–∞–¥–º–∏–Ω—ã>

# ===== –û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ï –ü–ê–†–ê–ú–ï–¢–†–´ =====

DEBUG=False
LOGGING_LEVEL=INFO
DATABASE_URL=sqlite+aiosqlite:///./bot_database.db

# ===== EMAIL –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) =====
# –ü—Ä–æ–ø—É—Å—Ç–∏—Ç–µ —ç—Ç—É —á–∞—Å—Ç—å, –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω—ã Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
# –°–º. —Ä–∞–∑–¥–µ–ª "Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è" –Ω–∏–∂–µ, –∫–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å
```

### 3. Telegram ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

–¢–µ–∫—É—â–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –±–æ—Ç–∞:
- **ID: 123456789** (–æ—Å–Ω–æ–≤–Ω–æ–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä)
- **ID: 987654321** (–≤—Ç–æ—Ä–æ–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä)

**–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:**
1. –ù–∞–π–¥–∏—Ç–µ –µ–≥–æ Telegram ID (–Ω–∞–ø–∏—à–∏—Ç–µ [@userinfobot](https://t.me/userinfobot))
2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env`:
```bash
ADMIN_IDS=123456789,987654321,<–Ω–æ–≤—ã–π_id>
```
3. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –±–æ—Ç–∞

---

## ü§ñ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

### –° –ø–æ–º–æ—â—å—é Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ —Ñ–æ–Ω–µ
make up

# –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
make logs

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç
make restart

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
make down

# –ü–æ–ª–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
make help
```

### –ë–µ–∑ Docker

```bash
python main.py
```

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
- –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ –ø–æ —Ç–æ–∫–µ–Ω—É (ID: 8388323020)
- –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start`
- –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å –æ–ø—Ü–∏—è–º–∏:
  - üìû –°–≤—è–∑—å —Å –∫–æ–º–∞–Ω–¥–æ–π
  - üìã –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è
  - ‚öôÔ∏è /admin (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤)

---

## üë®‚Äçüíº –ó–∞–ø—É—Å–∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

### –° –ø–æ–º–æ—â—å—é Docker

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –Ω–∞ –ø–æ—Ä—Ç–µ 8000
make admin-up

# –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
make admin-logs

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
make admin-down
```

### –ë–µ–∑ Docker

```bash
cd admin_panel

# –°–æ–∑–¥–∞—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–µ—Å–ª–∏ –≤–ø–µ—Ä–≤—ã–µ)
python manage.py createsuperuser
# username: admin
# password: admin (–∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ–π)

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
python manage.py runserver 0.0.0.0:8000
```

### –î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

- **URL:** http://localhost:8000/admin
- **–õ–æ–≥–∏–Ω:** admin
- **–ü–∞—Ä–æ–ª—å:** admin (–∏–∑–º–µ–Ω–∏—Ç–µ –≤ production!)

**–ß—Ç–æ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏:**
- üë• –£–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- üèÜ –°–æ–∑–¥–∞–≤–∞—Ç—å –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è
- üìã –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏ –æ–¥–æ–±—Ä—è—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- ‚è∞ –£–ø—Ä–∞–≤–ª—è—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Å–ª–æ—Ç–∞–º–∏ –¥–ª—è —Å—É–¥–µ–π
- üì¢ –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ä–∞—Å—Å—ã–ª–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

---

## üé® –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥ —Å–µ–±—è

### 1. –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π

**–§–∞–π–ª:** `messages/texts.py`

```python
class BotMessages:
    GREETING = "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é!"
    BUTTON_REGISTER = "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è"
    # ... –∏ –¥—Ä—É–≥–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è

**–ß–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8000/admin
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Competitions"
3. –ù–∞–∂–º–∏—Ç–µ "Add Competition"
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª—è:
   - Name: –ù–∞–∑–≤–∞–Ω–∏–µ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è
   - Type: –¢–∏–ø (classic_game, puzzle –∏ —Ç.–¥.)
   - Is Active: –û—Ç–º–µ—Ç—å—Ç–µ, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –≤–∏–¥–∏–º—ã–º –≤ –±–æ—Ç–µ

**–ò–ª–∏ —á–µ—Ä–µ–∑ –ë–î –Ω–∞–ø—Ä—è–º—É—é:**
```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –ë–î
sqlite3 bot_database.db

# –í—Å—Ç–∞–≤—å—Ç–µ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–µ
INSERT INTO competitions (name, competition_type, is_active)
VALUES ('–ú–æ–µ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏–µ', 'classic_game', 1);
```

### 3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env`:
```bash
ADMIN_IDS=123456789,987654321,555666777
```

–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –ø–æ–ª—É—á–∞—Ç –¥–æ—Å—Ç—É–ø –∫ –∫–æ–º–∞–Ω–¥–µ `/admin` –≤ –±–æ—Ç–µ.

### 4. Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–ª Email:**

#### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ Gmail –∞–∫–∫–∞—É–Ω—Ç

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π Gmail –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π
2. –í–∫–ª—é—á–∏—Ç–µ 2-—Ñ–∞–∫—Ç–æ—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é: https://myaccount.google.com/security
3. –°–æ–∑–¥–∞–π—Ç–µ "–ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è": https://myaccount.google.com/apppasswords
   - –í—ã–±–µ—Ä–∏—Ç–µ "Mail" –∏ "Windows Computer" (–∏–ª–∏ Linux)
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å

#### –®–∞–≥ 2: –î–æ–±–∞–≤—å—Ç–µ Email –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ `.env`

```bash
# Gmail SMTP
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=<–ø–∞—Ä–æ–ª—å-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è-–∏–∑-—à–∞–≥–∞-1>
SMTP_USE_TLS=True

# Email –∞–¥—Ä–µ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
SUPPORT_EMAIL=your-email@gmail.com
EMAIL_FROM_NAME=USN Competitions

# –í–∞—à Telegram ID –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ –±–æ—Ç–µ
SUPPORT_TELEGRAM_ID=<–≤–∞—à_telegram_id>
```

#### –ß—Ç–æ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å:
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–µ —á–µ—Ä–µ–∑ –±–æ—Ç–∞
- ‚úÖ –í—ã –ø–æ–ª—É—á–∏—Ç–µ Email –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram
- ‚úÖ –†–∞—Å—Å—ã–ª–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
- ‚úÖ Email –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

**–ë–µ–∑ Email –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏** - –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ 100%, —Ç–æ–ª—å–∫–æ –±–µ–∑ Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.

### 5. –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ PostgreSQL (Production)

**–î–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è:**

```bash
# 1. –ò–∑–º–µ–Ω–∏—Ç–µ .env
DATABASE_URL=postgresql+asyncpg://usn_bot:password@localhost:5432/usn_bot_db

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ PostgreSQL
make postgres

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
make health
```

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: [POSTGRESQL_MIGRATION.md](POSTGRESQL_MIGRATION.md)

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
telegram_bot/
‚îú‚îÄ‚îÄ config/                    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–æ—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ settings.py           # BOT_TOKEN, DATABASE_URL, etc.
‚îú‚îÄ‚îÄ models/                    # –ú–æ–¥–µ–ª–∏ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ user.py               # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ competition.py        # –°–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ registration.py       # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ handlers/                  # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ start.py              # /start –∫–æ–º–∞–Ω–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ menu.py               # –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
‚îÇ   ‚îî‚îÄ‚îÄ registration/         # –ü—Ä–æ—Ü–µ—Å—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ messages/                  # –¢–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ texts.py              # –ò–∑–º–µ–Ω–∏—Ç–µ —Ç–µ–∫—Å—Ç—ã –∑–¥–µ—Å—å
‚îú‚îÄ‚îÄ keyboards/                # –ö–Ω–æ–ø–∫–∏ –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ inline.py             # –ò–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫–∏
‚îú‚îÄ‚îÄ admin_panel/              # Django –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ manage.py
‚îÇ   ‚îú‚îÄ‚îÄ settings.py           # Django –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ apps/BotDataApp/
‚îÇ       ‚îú‚îÄ‚îÄ admin.py          # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
‚îÇ       ‚îî‚îÄ‚îÄ models.py         # Django –º–æ–¥–µ–ª–∏
‚îú‚îÄ‚îÄ .env.example              # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ docker-compose.yml        # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Makefile                  # –£–¥–æ–±–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (make help)
‚îî‚îÄ‚îÄ requirements.txt          # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

---

## üõ†Ô∏è –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –°–ø—Ä–∞–≤–∫–∞ –ø–æ –≤—Å–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–º –∫–æ–º–∞–Ω–¥–∞–º
make help

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ (SQLite)
make dev

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å PostgreSQL
make postgres

# –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –±–æ—Ç–∞
make logs

# –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤
make logs-tail

# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
make status

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
make stats

# –û—Ç–∫—Ä—ã—Ç—å shell –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –±–æ—Ç–∞
make shell

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å—ë
make down

# –û—á–∏—Å—Ç–∏—Ç—å Docker –∫—ç—à
make prune
```

---

## üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
make logs

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∑–∞–ø—É—â–µ–Ω –ª–∏ –±–æ—Ç
make status

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
make restart

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª
cat .env
```

### "Address already in use"

```bash
# –ï—Å–ª–∏ –ø–æ—Ä—Ç 8000 –∑–∞–Ω—è—Ç (–¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏)
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env:
ADMIN_PORT=8001

# –ò–ª–∏ –Ω–∞–π–¥–∏—Ç–µ –∏ –∑–∞–≤–µ—Ä—à–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å
lsof -i :8000
kill -9 <PID>
```

### –û—à–∏–±–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—É—é –ë–î –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å
docker volume rm usn-bot_bot_data

# –ò–ª–∏ –±–µ–∑ Docker
rm bot_database.db

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
make up
```

### PostgreSQL –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å PostgreSQL
make status

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ .env
DATABASE_URL=postgresql+asyncpg://usn_bot:secure_password@postgres:5432/usn_bot_db

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ PostgreSQL
make db-init
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [DOCKER_MAKEFILE_GUIDE.md](DOCKER_MAKEFILE_GUIDE.md) - –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ Docker –∏ Makefile
- [POSTGRESQL_MIGRATION.md](POSTGRESQL_MIGRATION.md) - –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ PostgreSQL
- [README.md](README.md) - –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

---

## ‚ùì –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### Q: –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å —Ç–µ–∫—Å—Ç—ã –≤ –±–æ—Ç–µ?
**A:** –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `messages/texts.py`. –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∫–ª–∞—Å—Å–µ `BotMessages`.

### Q: –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞?
**A:** –ù–∞–π–¥–∏—Ç–µ –µ–≥–æ Telegram ID –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ `.env` –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä `ADMIN_IDS`.

### Q: –ö–∞–∫ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –Ω–∞ –¥—Ä—É–≥–æ–π —Å–µ—Ä–≤–µ—Ä?
**A:** –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç –∏ —Ñ–∞–π–ª `bot_database.db`, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env`.

### Q: –ù—É–∂–Ω–∞ –ª–∏ –º–Ω–µ PostgreSQL?
**A:** –ù–µ—Ç, SQLite —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ –¥–ª—è –Ω–∞—á–∞–ª–∞. PostgreSQL –Ω—É–∂–µ–Ω –ø—Ä–∏ –±–æ–ª—å—à–æ–º –æ–±—ä–µ–º–µ –¥–∞–Ω–Ω—ã—Ö.

### Q: –ö–∞–∫ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º?
**A:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å ‚Üí Broadcasts ‚Üí Create broadcast, –∏–ª–∏ –∫–æ–º–∞–Ω–¥—É `/broadcast` –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤.

---

## üéØ –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `.env` —Å –≤–∞—à–∏–º BOT_TOKEN
2. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞: `make up`
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `make logs`
4. ‚úÖ –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: `make admin-up`
5. ‚úÖ –î–æ–±–∞–≤—å—Ç–µ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
6. ‚úÖ –ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –±–æ—Ç–∞

---

## üí¨ –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –∏ –¥–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–∏ –ø—Ä–∏–º–µ—Ä—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏!

**–£—Å–ø–µ—à–Ω–æ–π —Ä–∞–±–æ—Ç—ã! üöÄ**
